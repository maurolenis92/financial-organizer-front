<div class="signup-container">
  <div class="signup-card">
    <!-- Paso 1: Registro -->
    <div *ngIf="registrationStep === 'register'">
      <h1>FinanSmart Crear Cuenta</h1>
      <p class="subtitle">Únete a la revolución financiera</p>

      <form [formGroup]="form">
        <fs-input
          label="Nombre completo"
          type="text"
          formControlName="name"
          id="name"
          placeholder="Ingrese su nombre completo"
          [width]="'100%'"
        ></fs-input>

        <fs-input
          label="Correo electrónico"
          type="email"
          formControlName="email"
          id="email"
          placeholder="Ingrese su correo electrónico"
          [width]="'100%'"
        ></fs-input>

        <fs-input
          label="Contraseña"
          type="password"
          formControlName="password"
          id="password"
          placeholder="Mínimo 8 caracteres"
          [width]="'100%'"
        ></fs-input>

        <fs-input
          label="Confirmar contraseña"
          type="password"
          formControlName="confirmPassword"
          id="confirmPassword"
          placeholder="Repita su contraseña"
          [width]="'100%'"
        ></fs-input>

        <fs-button
          [disabled]="buttonDisabled"
          [loading]="loading"
          label="Crear Cuenta"
          (click)="signUp()"
          type="button"
          variant="primary"
        ></fs-button>
      </form>

      <div class="auth-links">
        <p>
          ¿Ya tienes una cuenta? <a (click)="goToLogin()" class="link">Iniciar Sesión</a>
        </p>
      </div>
    </div>

    <!-- Paso 2: Confirmación -->
    <div *ngIf="registrationStep === 'confirm'">
      <h1>Confirma tu cuenta</h1>
      <p class="subtitle">
        Hemos enviado un código de verificación a <strong>{{ userEmail }}</strong>
      </p>

      <form [formGroup]="form">
        <fs-input
          label="Código de verificación"
          type="text"
          formControlName="confirmationCode"
          id="confirmationCode"
          placeholder="Ingrese el código de 6 dígitos"
          [width]="'100%'"
        ></fs-input>

        <fs-button
          [disabled]="buttonDisabled"
          [loading]="loading"
          label="Confirmar Cuenta"
          (click)="confirmSignUp()"
          type="button"
          variant="primary"
        ></fs-button>
      </form>

      <div class="auth-links">
        <p><a (click)="backToRegister()" class="link">← Volver al registro</a></p>
        <p>
          ¿Ya tienes una cuenta? <a (click)="goToLogin()" class="link">Iniciar Sesión</a>
        </p>
      </div>
    </div>
  </div>
</div>
