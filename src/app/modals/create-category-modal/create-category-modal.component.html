<div class="create-category-modal">
  <div class="modal-header">
    <h2>Crear Nueva Categoría</h2>
    <button class="close-button" (click)="onCancel()">
      <span class="material-icons">close</span>
    </button>
  </div>

  <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
    <div class="modal-body">
      <div class="form-section">
        <fs-input
          formControlName="name"
          label="Nombre de la Categoría"
          placeholder="Ej: Gimnasio, Streaming, etc."
        ></fs-input>
      </div>

      <div class="form-section">
        <label class="section-label">Selecciona un Icono</label>
        <div class="icon-grid">
          @for (icon of predefinedIcons; track icon.value) {
            <button
              type="button"
              class="icon-option"
              [class.icon-option--selected]="selectedIcon === icon.value"
              (click)="selectIcon(icon.value)"
              [attr.aria-label]="icon.name"
            >
              <span class="material-icons">{{ icon.value }}</span>
            </button>
          }
        </div>
      </div>

      <div class="form-section">
        <label class="section-label">Selecciona un Color</label>
        <div class="color-grid">
          @for (color of predefinedColors; track color.value) {
            <button
              type="button"
              class="color-option"
              [class.color-option--selected]="selectedColor === color.value"
              [style.background-color]="color.value"
              (click)="selectColor(color.value)"
              [attr.aria-label]="color.name"
            >
              @if (selectedColor === color.value) {
                <span class="material-icons">check</span>
              }
            </button>
          }
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <fs-button
        type="button"
        variant="secondary"
        label="Cancelar"
        (click)="onCancel()"
      ></fs-button>
      <fs-button
        type="submit"
        label="Crear Categoría"
        [disabled]="!categoryForm.valid"
      ></fs-button>
    </div>
  </form>
</div>
